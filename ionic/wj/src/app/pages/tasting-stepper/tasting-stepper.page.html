<ion-tabs (ionTabsDidChange)="setCurrentTab($event)" *ngIf="stepper">
  <ion-header>
    <ion-toolbar>
      <ion-title>Write a Tasting Note</ion-title>
    </ion-toolbar>
    <ion-progress-bar value="{{stepper.progress}}" color="secondary"></ion-progress-bar>
    <ion-tab-bar>
      <ion-tab-button tab="style" [disabled]="stepper.isDisabled('style')"
        [ngClass]="{'step-is-complete' : stepper.states[0] == 1}">
        <ion-label *ngIf="stepper.states[0] != 1">1</ion-label>
        <ion-icon *ngIf="stepper.states[0] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="appearance" [disabled]="stepper.isDisabled('appearance')"
        [ngClass]="{'step-is-complete' : stepper.states[1] == 1}">
        <ion-label *ngIf="stepper.states[1] != 1">2</ion-label>
        <ion-icon *ngIf="stepper.states[1] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="nose" [disabled]="stepper.isDisabled('nose')"
        [ngClass]="{'step-is-complete' : stepper.states[2] == 1}">
        <ion-label *ngIf="stepper.states[2] != 1">3</ion-label>
        <ion-icon *ngIf="stepper.states[2] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="palate" [disabled]="stepper.isDisabled('palate')"
        [ngClass]="{'step-is-complete' : stepper.states[3] == 1}">
        <ion-label *ngIf="stepper.states[3] != 1">4</ion-label>
        <ion-icon *ngIf="stepper.states[3] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="conclusion" [disabled]="stepper.isDisabled('conclusion')"
        [ngClass]="{'step-is-complete' : stepper.states[4] == 1}">
        <ion-label *ngIf="stepper.states[4] != 1">5</ion-label>
        <ion-icon *ngIf="stepper.states[4] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="details" [disabled]="stepper.isDisabled('details')"
        [ngClass]="{'step-is-complete' : stepper.states[5] == 1}">
        <ion-label *ngIf="stepper.states[5] != 1">6</ion-label>
        <ion-icon *ngIf="stepper.states[5] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
      <ion-tab-button tab="note" [disabled]="stepper.isDisabled('note')"
        [ngClass]="{'step-is-complete' : stepper.states[6] == 1}">
        <ion-label *ngIf="stepper.states[6] != 1">7</ion-label>
        <ion-icon *ngIf="stepper.states[6] == 1" name="checkmark-outline"></ion-icon>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-header>

  <ion-button *ngIf="stepper.currentStep > 1 && stepper.currentStep < 7" class="next"
    [routerLink]="['/tasting/', stepper.nextStep]" expand="full" size="large" color="secondary">
    {{stepper.nextStep}}
    <div class="button-wrapper">
      <ion-icon name="chevron-forward-outline"></ion-icon>
    </div>
  </ion-button>  
  <ion-button *ngIf="stepper.currentStep == 7" class="save"
    (click)="save()" expand="full" size="large" color="secondary">
    save
  </ion-button>
</ion-tabs>